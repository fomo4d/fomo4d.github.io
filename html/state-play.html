<state-play>
<script>
        /* Initializes Popovers so they only require 1 click
        with love -justo */
        $(function () {
            $('[data-toggle="popover"]').popover();
            $('.checkmark').popover({
                trigger: "hover"
            });
        })


        setTimeout(function() {
        $('.tutorialArrow').fadeOut('fast');
        }, 20000); // <-- time in milliseconds
</script>

    <!-- fomo    -->
    <!-- NOTE: Displays the current pot size in ETH as well as time left in current round -->
    <div class="blurryboy" if={!$this.gracePeriod}></div>
    <div class="blurryboydark" if={$this.gracePeriod}></div>

    <div class="jumbotron rounded-0 text-center text-light teaser-cover" if={!$this.roundHasPassed}>
        <!--
        <div class="grid-container" if={!$this.gracePeriod}>
            <div id="hdgraphics" class="grid-top"></div>
        </div> -->
        <div class="container">
            <h4 class="display-4 scammed" style="font-style: italic;" if={!$this.playerIsLeader && JUST.Cache.currentRound[8] && JUST.Cache.currentRound[8] !=  "0x0000000000000000000000000000000000000000000000000000000000000000"}>
            {JUST.Bridges.Browser.web3.utils.toAscii(JUST.Cache.currentRound[8])} is</h4>
            <h4 class="display-4 scammed" style="font-style: italic;" if={!$this.playerIsLeader && JUST.Cache.currentRound[8] && JUST.Cache.currentRound[8] ==  "0x0000000000000000000000000000000000000000000000000000000000000000"}>
            someone else is</h4>
            <h1 class="display-1 scammed" if={!$this.playerIsLeader && !$this.gracePeriod}>EXIT SCAMMING</h1>
            <h1 class="display-1 scammed" if={$this.playerIsLeader && !$this.gracePeriod}>YOU ARE EXIT SCAMMING</h1>
            <h1 class="display-1 scammed" if={!$this.playerIsLeader && $this.gracePeriod}>ICO FUNDING</h1>
            <h1 class="display-1 scammed" if={$this.playerIsLeader && $this.gracePeriod}>YOU ARE ICO FUNDING</h1>
            <h2 class="display-3" if={$this.gracePeriod}><span class="ethglitch titleglow">{BN(JUST.Cache.currentRound[0]).plus(JUST.Cache.currentRound[5]).div(1e18).toFixed(4)} <i class="fab fa-ethereum ethglow"></i></span></h2>
            <h2 class="display-3" if={!$this.gracePeriod}><span class="ethglitch titleglow">{BN(JUST.Cache.currentRound[5]).div(1e18).toFixed(4)} <i class="fab fa-ethereum ethglow"></i></span> <span class="headtimer">--</span></h2>
             <h3 if={$this.gracePeriod} class="display-5" style="margin-top:50px;">ICO ends in <span class="headtimer" style="display:inline;font-size:inherit;">--</span></h3>

            <h5 class="display-5" if={$this.playerIsLeader  && !$this.gracePeriod}>If no one buys a key, you drain the contract!</h5>
              <!--<a if={$this.gracePeriod} href="javascript:void(0)" class="buyOneTicket btn btn-lg btn-block btn-purp pulse marginb">Participate in the ICO</a> -->
              <h4 if={$this.gracePeriod} class="lead">ICO Phase: A short 1 Hour interlude. Sent eth will be rejected; wait for the round to start for the  <a class="titlepopoutrightmini">first</a> and <a class="titlepopoutrightmini">cheapest</a> keys</b> </h4>


                <!-- Button Handling for Buy 1x More;  -->
                <!-- This button appears when the player in the lead has a vanity name  -->
                <a href="javascript:void(0)" if={!$this.playerIsLeader && !$this.gracePeriod && JUST.Cache.currentRound[8] !=  "0x0000000000000000000000000000000000000000000000000000000000000000"} class="buyOneTicket btn btn-lg btn-block btn-purp pulse marginb">
                    <div class=row>
                        <div class="col-sm-1.5 no-mobile" style="padding-left: 10px">
                         1x <i class="fas fa-key"></i>
                        </div>
                        <div class=col-sm-11>
                        <span style="margin-right: 1rem;margin-left: -1rem" class="only-mobile mobile-text">1x <i class="fas fa-key"></i></span>
                        {memes.buyButtonMessagePlayer[Math.floor(memes.buyButtonMessagePlayer.length * Math.random()) - 1].replace(/\$player/g, JUST.Bridges.Browser.web3.utils.toAscii(JUST.Cache.currentRound[8]))}
                        </div>
                    </div>
                </a>

                <!-- This button appears when the player in the lead does not have a vanity name  -->
                <a href="javascript:void(0)" if={!$this.playerIsLeader && !$this.gracePeriod && JUST.Cache.currentRound[8] ==  "0x0000000000000000000000000000000000000000000000000000000000000000"} class="buyOneTicket btn btn-lg btn-block btn-purp pulse marginb">
                <div class=row>
                    <div class="col-sm-1.5 no-mobile" style="padding-left: 10px">
                     1x <i class="fas fa-key"></i>
                    </div>
                    <div class=col-sm-11>
                    <span style="margin-right: 1rem;margin-left: -1rem" class="only-mobile mobile-text">1x <i class="fas fa-key"></i></span>
                    {memes.buyButtonMessageAnon[Math.floor(memes.buyButtonMessageAnon.length * Math.random()) - 1].replace(/\$player/g, JUST.Bridges.Browser.web3.utils.toAscii(JUST.Cache.currentRound[8]))}
                    </div>
                </div>
                </a>

        </div>
        <!--
        <div class="grid-container">
            <div class="grid-bottom"></div>
        </div>
        -->
    </div>


    <!-- So and So has EXIT SCAMMED -->
    <div class="jumbotron rounded-0 text-center text-light teaser-cover marginb" if={$this.roundHasPassed}>
    <div class="container">


    <!-- Grouped up into elements w/ conditionals per winner or not winning case -->
        <h1 class="display-1 scammed" if={$this.playerIsLeader}>YOU EXIT SCAMMED</h1>
        <h1 class="display-1 scammed" if={!$this.playerIsLeader}>EXIT SCAMMED</h1>


        <!-- Eth Amount -->
        <h2 class="display-3"><span class="ethglitch titleglow">{BN(JUST.Cache.currentRound[5]).div(1e18).toFixed(4)} <i class="fab fa-ethereum ethglow"></i></span> <span class="headtimer" if={!$this.playerIsLeader}>drained by <a href="javascript:void(0)">{(JUST.Cache.currentRound[8] && JUST.Cache.currentRound[8] !=  "0x0000000000000000000000000000000000000000000000000000000000000000" ? JUST.Bridges.Browser.web3.utils.toAscii(JUST.Cache.currentRound[8]) : JUST.Cache.currentRound[7].substr(0, 10).concat("..."))}</a>!</span></h2>

        <!-- Custom RNG winner text -->
        <h6 class="display-5 scammed" if={!$this.gracePeriod && $this.playerIsLeader}>You get about 50%, and share the rest</h6>
        <h6 class="display-5 scammed" if={$this.gracePeriod && $this.playerIsLeader}>You got about 50%, and shared the rest</h6>
        <h6 class="display-5 scammed titlepopoutrightmini" if={$this.playerIsLeader}><i>{memes.exitScamTheft[Math.floor(memes.exitScamTheft.length * Math.random()) - 1]}</i></h6>

        <div style="position: relative;">
          <h3 class="display-5" style="margin-top:50px;">There's <strong>{BN(JUST.Cache.currentRound[5]).div(10).div(1e18).toFixed(5)}</strong> ETH in the new pot. <span style="font-style: italic;"><a class="titlepopoutrightmini">You're</a> going to take it <span if={$this.playerIsLeader}>too...</span> right?</span></h3>


         <!-- This button appears when an exit scam has finished, and a new ICO phase needs to start -->
        <a href="javascript:void(0)" class=" buyOneTicket btn btn-lg btn-block btn-purp pulse marginb">
            <div class=row>
                    <div class=col-sm-1.5 style="padding-left: 10px">
                     1x <i class="fas fa-key"></i>
                    </div>
                    <div class=col-sm-11>
                    Start your exit scam
                    </div>
            </div>
        </a>


        </div>
      </div>
    </div>
    </div>
    <!-- /fomo -->
    <div class="container" style="margin-top:-1rem;">
        <div class="row cta-ticket" style="margin-top:-5rem;">
            <div class="col">
                <div class="alert alert-purp pulse text-center text-light" role="alert">Buy a key to start a new ICO</div>
            </div>
        </div>
        <div class="row" if={$this.gracePeriod}>
            <div class="col-md-3 no-mobile">

            </div>
            <!-- biddings & vault -->
            <div class="col-sm">

                <ul class="nav nav-tabs tabs-border-adjust" id="buyTabs" role="tablist">
                  <li class="nav-item tab-item">
                    <a class="nav-link tab-link active" id="purchaseTab" data-toggle="tab" href="#purchaseArea" role="tab" aria-controls="purchaseArea" aria-selected="true">ICO</a>
                  </li>
                  <li class="nav-item tab-item">
                    <a class="nav-link tab-link" id="vaultTab" data-toggle="tab" href="#vaultArea" role="tab" aria-controls="vaultArea" aria-selected="false">Vault</a>
                  </li>
                  <li class="nav-item tab-item">
                    <a class="nav-link tab-link" id="refTab" data-toggle="tab" href="#refArea" role="tab" aria-controls="refArea" aria-selected="false">Vanity &amp; Referrals</a>
                  </li>
                </ul>
                <div class="tab-content" id="buyArea">
                <!-- biddings -->
                <div class="tab-pane fade show active" id="purchaseArea" role="tabpanel" aria-labelledby="purchaseArea">
                    <div class="jumbotron jumbotron-adjust text-light bg-dark jumboshade tab-rounded">
                        <div class="row">
                            <div class="col">
                                <p class="lead nomarginb">Initial Con Offering</p>
                            </div>
                            <div class="col-auto">
                                <p class="text-right nomarginb tutorial">
                                    <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                                    <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="juster maek fun text pls" data-content="{popover.ico}">
                                    <i class="far fa-question-circle"></i>
                                    </a>
                                </p>
                            </div>
                        </div>
                        <hr>
                        <!-- ICO Purchase -->
                        <div class="row">
                        <div class="col text-center">
                                <p class="small">You do want a share of the scheme, right?</p>
                            </div>
                        </div>
                        <div class="row marginb">
                          <div class="col">
                            <div id="purchase" class="tab-pane fade show active" role="tabpanel">
                            <div class="row" id="purchase">
                              <div class="col">
                                <div class="input-group mb-3">
                                  <div class="input-group-prepend">
                                    <span class="input-group-text">
                                      <i class="fab fa-ethereum"></i>
                                    </span>
                                  </div>
                                  <input type="text" id="ethToSpend" class="form-control text-center" value="0.01 ETH">
                                </div>
                              </div>
                            </div>
                            <div class="row" style="position: relative;">
                              <div class="col">
                                <button type="button" id="ethSpend" class="btn btn-block btn-purp btn-lg ticketProcess"><i class="fab fa-ethereum"></i> Send ETH</button>
                              </div>
                              <div class="col">
                                <button type="button" id="ethReinvest" class="btn btn-block btn-outline-purp btn-lg ticketProcess"><i class="fas fa-piggy-bank"></i> Use Vault</button>
                              </div>
                            </div>
                          </div>
                          </div>
                        </div>
                        <hr>
                        <div class="row marginb">
                            <div class="col">
                                <p class="lead nomarginb">Choose a Team</p>
                            </div>
                            <div class="col-auto">
                                <p class="text-right nomarginb tutorial">
                                <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                                    <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="Pick where the Eth Goes!" data-content="{popover.teamselect}"><i class="far fa-question-circle"></i></a></p>
                            </div>
                        </div>
                        <div class="row marginb distribution">
                            <div class="col">
                                <div class="row">
                                    <div class="col-3 team">
                                        <label class="teamselector">
                                            <input class="form-check-input form-radio teamsave" type="radio" autocomplete="off" name="teamselect" value="2" id="teamsnek">
                                            <img src="./img/tsnek.png" alt="">
                                            <h5>Snek</h5>
                                            <p>Trickle down Divinomics</p>
                                        </label>
                                        <div>
                                        <p style="color:#2ecc71">++ Most dividends</p>
                                        </div>
                                    </div>
                                    <div class="col-3 team">
                                        <label class="teamselector">
                                            <input class="form-check-input form-radio teamsave" type="radio" autocomplete="off" name="teamselect" value="0" id="teamwhale">
                                            <img src="./img/twhale.png" alt="">
                                            <h5>Whale</h5>
                                            <p>Feed on the greed of others.</p>
                                        </label>
                                        <p style="color:#2ecc71">++ Most eth to pot</p>
                                    </div>
                                    <div class="col-3 team">
                                        <label class="teamselector">
                                            <input class="form-check-input form-radio teamsave" type="radio" autocomplete="off" name="teamselect" value="3" id="teambull">
                                            <img src="./img/tbull.png" alt="">
                                            <h5>Bull</h5>
                                            <p>Break upwards, never stagnate.</p>
                                        </label>
                                        <p style="color:#2ecc71">+ Balanced distribution</p>

                                    </div>
                                    <div class="col-3 team">
                                        <label class="teamselector">
                                            <input class="form-check-input form-radio teamsave" type="radio" autocomplete="off" name="teamselect" value="1" id="teambear">
                                            <img src="./img/tbear.png" alt="">
                                            <h5>Bear</h5>
                                            <p>Stand alone, fight alone.</p>
                                        </label>
                                        <p style="color:#2ecc71">++ Maximize eth to current round</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="chart"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    <!--<p class="small text-center">Your purchase will extend the game by a total of <span class="extender">NaN</span> Minutes.</p> -->
                    </div>
                </div>
                <!-- /biddings -->
                <!-- vault -->
                <div class="tab-pane fade" id="vaultArea" role="tabpanel" aria-labelledby="vaultArea">
                    <div class="jumbotron jumbotron-adjust text-light bg-dark jumboshade tab-rounded">
                        <div class="row">
                          <div class="col">
                            <p class="lead nomarginb">Vault</p>
                          </div>
                          <div class="col-auto">
                            <p class="text-right nomarginb tutorial">
                                <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                            <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="Vault 77: Where you keep the puppets" data-content="{popover.vault}">
                            <i class="far fa-question-circle"></i>
                            </a>
                          </div>
                        </div>
                        <hr>
                        <div class="jumbotron jumbotron-adjust teamscore">
                        <!--  <div class="row">
                            <div class="col">
                              <p class="lead">Winning Pot (Unused)</p>
                            </div>
                            <div class="col">
                              <p class="h3 text-right">{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn && JUST.Cache.currentPlayer && JUST.Cache.currentPlayer.Vaults) ? BN(JUST.Cache.currentPlayer.Vaults[0]).div(1e18).toFixed(4) : BN(0).toFixed(4)} ETH</p>
                            </div>
                          </div> -->
                          <div class="row">
                            <div class="col">
                              <p class="lead">Exit Scammed</p>
                            </div>
                            <div class="col">
                              <p class="h3 text-right">{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn && JUST.Cache.currentPlayer && JUST.Cache.currentPlayer.Vaults) ? BN(JUST.Cache.currentPlayer.Vaults[1]).plus(JUST.Cache.currentPlayer.Vaults[0]).div(1e18).toFixed(4) : BN(0).toFixed(4)} ETH</p>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col">
                              <p class="lead">Bad Advice</p>
                            </div>
                            <div class="col">
                              <p class="h3 text-right">{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn && JUST.Cache.currentPlayer && JUST.Cache.currentPlayer.Vaults) ? BN(JUST.Cache.currentPlayer.Vaults[2]).div(1e18).toFixed(4) : BN(0).toFixed(4)} ETH</p>
                            </div>
                          </div>
                          <hr>
                          <div class="row">
                            <div class="col">
                              <p class="lead">Total Gains</p>
                            </div>
                            <div class="col">
                              <p class="h3 text-right glow">{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn && JUST.Cache.currentPlayer && JUST.Cache.currentPlayer.Vaults) ? BN(JUST.Cache.currentPlayer.Vaults[0]).plus(JUST.Cache.currentPlayer.Vaults[1]).plus(JUST.Cache.currentPlayer.Vaults[2]).div(1e18).toFixed(4) : BN(0).toFixed(4)} ETH</p>
                              <p class="text-right">&#8793; {BN(JUST.Cache.currentPlayer.Vaults[0]).plus(JUST.Cache.currentPlayer.Vaults[1]).plus(JUST.Cache.currentPlayer.Vaults[2]).div(1e18).multipliedBy(JUST.Cache.fiatRatios.USD).toFixed(5)} USDT</p>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col">
                                <p class="text-right nomarginb"><button href="" class="btn btn-outline-purp btn-block" id="withdrawEarnings"><i class="fas fa-hand-holding-heart"></i> Withdraw</button></p>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
                <!-- /vault -->

                <!-- vanity -->
                <div class="tab-pane fade" id="refArea" role="tabpanel" aria-labelledby="refArea">
                    <div class="jumbotron jumbotron-adjust text-light bg-dark jumboshade tab-rounded">
                        <div class="row">
                          <div class="col">
                            <p class="lead nomarginb">Advisory Board</p>
                          </div>
                          <div class="col-auto">
                            <p class="text-right nomarginb tutorial">
                                <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                            <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="Probably Bribery" data-content="{popover.referral}">
                            <i class="far fa-question-circle"></i>
                            </a>
                          </div>
                        </div>
                        <hr>
                        <div class="jumbotron jumbotron-adjust teamscore">
                            <div class="row" if={!$this.isCEO}>
                                <div class="col">
                                <p>Register a unique name, and unlock the referral system permanently.</p>
                                </div>
                            </div>
                            <div class="row" if={!$this.isCEO}>
                                <div class="col">
                                    <button href="" class="btn btn-purp btn-block buyceo"><i class="fas fa-check"></i> Register a name to use on the Leaderboard/Referrals</button>
                                </div>
                              </div>
                            <div class="row" if={$this.isCEO}>
                                <div class="col">
                                    <p class="font-weight-light">Advise others to invest in this exit scam and we'll reward you 10% of everything they lose. In Ethereum.</p>
                                </div>
                            </div>
                            <div class="row" if={$this.isCEO}>
                                <div class="col text-center">
                                    <p>
                                        <span>Wallet Referral</span><br>
                                        <span class="small" id="ceolink">{$this.myLink}</span><br>
                                        <button class="btn btn-outline-purp" id="copyCeoLink" data-clipboard-target="#ceolink"}>
                                        <i class="fas fa-paste"></i> Copy</button>
                                    </p>
                                    <p>
                                        <span>Anyonmous Referral</span><br>
                                        <span class="small" id="ceolinkid">{$this.myLinkid}</span><br>
                                        <button class="btn btn-outline-purp" id="copyCeoLink" data-clipboard-target="#ceolinkid"}>
                                        <i class="fas fa-paste"></i> Copy</button>

                                    </p>
                                    <p>
                                        <span>Vanity Referral</span><br>
                                        <span class="small" id="ceolinkvanity">{$this.myLinkName}</span><br>
                                        <button class="btn btn-outline-purp" id="copyCeoLink" data-clipboard-target="#ceolinkvanity"}>
                                        <i class="fas fa-paste"></i> Copy</button>
                                    </p>
                                </div>
                            </div>
                            <div class="row" if={$this.isCEO}>
                                <div class="col">
                                    <button href="" class="btn btn-outline-purp btn-block buyceo"><i class="fas fa-check"></i> Register a new name</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            <!-- /vanity -->
        <div class="col-md-3 no-mobile">

        </div>
        </div>
        <div class="row" if={!$this.gracePeriod}>
            <!-- biddings & vault -->
            <div class="col-sm">

                <ul class="nav nav-tabs tabs-border-adjust" id="buyTabs" role="tablist">
                  <li class="nav-item tab-item">
                    <a class="nav-link tab-link active" id="purchaseTab" data-toggle="tab" href="#purchaseArea" role="tab" aria-controls="purchaseArea" aria-selected="true">Purchase</a>
                  </li>
                  <li class="nav-item tab-item">
                    <a class="nav-link tab-link" id="vaultTab" data-toggle="tab" href="#vaultArea" role="tab" aria-controls="vaultArea" aria-selected="false">Vault</a>
                  </li>
                  <li class="nav-item tab-item">
                    <a class="nav-link tab-link" id="refTab" data-toggle="tab" href="#refArea" role="tab" aria-controls="refArea" aria-selected="false">Vanity &amp; Referrals</a>
                  </li>
                </ul>
                <div class="tab-content" id="buyArea">
                <!-- biddings -->
                <div class="tab-pane fade show active" id="purchaseArea" role="tabpanel" aria-labelledby="purchaseArea">
                    <div class="jumbotron jumbotron-adjust text-light bg-dark jumboshade tab-rounded">
                        <div class="row">
                            <div class="col" if={!$this.roundHasPassed}>
                                <p class="lead nomarginb">Keyring</p>
                            </div>
                            <div class="col" if={$this.roundHasPassed}>
                                <p class="lead nomarginb">Pre-ICO Phase</p>
                            </div>
                            <div class="col-auto">
                                <p class="text-right nomarginb tutorial">
                                    <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                                    <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="Exit Scams and You!" data-content="{popover.purchase}">
                                    <i class="far fa-question-circle"></i>
                                    </a>
                                </p>
                            </div>
                        </div>
                        <hr>
                        <!-- Ticket Purchase -->
                        <!-- NOTE: Ticket purchase should update the ETH value to how much is actually going to be paid by the player, as well as update the time limit extension (NaN Minutes) accordingly -->
                        <div class="row">
                          <div class="col">
                            <div id="purchase" class="tab-pane fade show active" role="tabpanel">
                                <p class="font-weight-light small" if={!$this.roundHasPassed} id ="airdrop_chance">Purchases of .1 ETH or more have a {JUST.Cache.airdropTracker}% chance to win some of the {JUST.Cache.airdropPot} ETH airdrop pot, instantly!</p>
                            <p class="text-center" if={$this.roundHasPassed}>Send ETH to start the next ICO</p>
                            <div class="row" id="purchase" if={!$this.roundHasPassed}>
                              <div class="col">
                                <div class="input-group mb-3">
                                  <div class="input-group-prepend">
                                    <span class="input-group-text">
                                      <i class="fas fa-key"></i>
                                    </span>
                                  </div>
                                  <input type="text" id="tixToBuy" class="form-control text-center" value="1 Key">
                                  <div class="input-group-append">
                                    <span class="input-group-text" id="tixQuotation">
                                      @ {BN(JUST.Cache.currentRound[3]).div(1e18).toFixed(8)} ETH
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="row" if={$this.roundHasPassed}>
                                <div class="col">
                                    <div id="purchase" class="tab-pane fade show active" role="tabpanel">
                                        <div class="row" id="purchase">
                                          <div class="col">
                                            <div class="input-group mb-3">
                                              <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                  <i class="fab fa-ethereum"></i>
                                                </span>
                                              </div>
                                              <input type="text" id="ethToSpend" class="form-control text-center" value="0.01 ETH">
                                            </div>
                                          </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row marginb" if={!$this.roundHasPassed}>
                              <div class="col">
                                <div class="btn-group d-flex" role="group">
                                  <button id="addOne" class="btn btn-outline-yel w-100 increment">+ 1 Key</button>
                                  <button id="addTwo" class="btn btn-outline-yel w-100 increment">+ 2 Keys</button>
                                  <button id="addFive" class="btn btn-outline-yel w-40 increment">+ 5</button>
                                  <button id="addTen" class="btn btn-outline-yel w-30 increment">+ 10</button>
                                  <button id="addHundred" class="btn btn-outline-yel w-30 increment">+ 100</button>
                                </div>
                              </div>
                            </div>
                            <div class="row" style="position: relative;"  if={!$this.roundHasPassed}>
                              <div class="col">
                                <button type="button" id="tixBuy" class="btn btn-block btn-purp btn-lg ticketProcess"><i class="fab fa-ethereum"></i> Send ETH</button>
                              </div>
                              <div class="col">
                                <button type="button" id="tixReinvest" class="btn btn-block btn-outline-purp btn-lg ticketProcess"><i class="fas fa-piggy-bank"></i> Use Vault</button>
                              </div>
                            </div>
                            <div class="row" style="position: relative;"  if={$this.roundHasPassed}>
                              <div class="col">
                                <button type="button" id="ethSpend" class="btn btn-block btn-purp btn-lg ticketProcess"><i class="fab fa-ethereum"></i> Send ETH</button>
                              </div>
                              <div class="col">
                                <button type="button" id="ethReinvest" class="btn btn-block btn-outline-purp btn-lg ticketProcess"><i class="fas fa-piggy-bank"></i> Use Vault</button>
                              </div>
                            </div>
                                <p class="small text-center" if={!$this.gracePeriod}>Send eth, or use earnings from your vault!</p>
                          </div>
                          </div>
                        </div>
                        <!-- Team Selector -->
                        <hr>
                        <div class="row marginb">
                            <div class="col">
                                <p class="lead nomarginb">Choose a Team</p>
                            </div>
                            <div class="col-auto">
                                <p class="text-right nomarginb tutorial">
                                <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                                    <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="Pick where the Eth Goes!" data-content="{popover.teamselect}"><i class="far fa-question-circle"></i></a></p>
                            </div>
                        </div>
                        <div class="row marginb distribution">
                            <div class="col">
                                <div class="row">
                                    <div class="col-3 team">
                                        <label class="teamselector">
                                            <input class="form-check-input form-radio teamsave" type="radio" autocomplete="off" name="teamselect" value="2" id="teamsnek">
                                            <img src="./img/tsnek.png" alt="">
                                            <h5>Snek</h5>
                                            <p>Trickle down Divinomics</p>
                                        </label>
                                        <div>
                                        <p style="color:#2ecc71">++ Most dividends</p>
                                        </div>
                                    </div>
                                    <div class="col-3 team">
                                        <label class="teamselector">
                                            <input class="form-check-input form-radio teamsave" type="radio" autocomplete="off" name="teamselect" value="0" id="teamwhale">
                                            <img src="./img/twhale.png" alt="">
                                            <h5>Whale</h5>
                                            <p>Feed on the greed of others.</p>
                                        </label>
                                        <p style="color:#2ecc71">++ Most eth to pot</p>
                                    </div>
                                    <div class="col-3 team">
                                        <label class="teamselector">
                                            <input class="form-check-input form-radio teamsave" type="radio" autocomplete="off" name="teamselect" value="3" id="teambull">
                                            <img src="./img/tbull.png" alt="">
                                            <h5>Bull</h5>
                                            <p>Break upwards, never stagnate.</p>
                                        </label>
                                        <p style="color:#2ecc71">+ Balanced distribution</p>

                                    </div>
                                    <div class="col-3 team">
                                        <label class="teamselector">
                                            <input class="form-check-input form-radio teamsave" type="radio" autocomplete="off" name="teamselect" value="1" id="teambear">
                                            <img src="./img/tbear.png" alt="">
                                            <h5>Bear</h5>
                                            <p>Stand alone, fight alone.</p>
                                        </label>
                                        <p style="color:#2ecc71">++ Maximize eth to current round</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="chart"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /Team Selector -->
                    <!--<p class="small text-center">Your purchase will extend the game by a total of <span class="extender">NaN</span> Minutes.</p> -->
                    </div>
                </div>
                <!-- /biddings -->
                <!-- vault -->
                <div class="tab-pane fade" id="vaultArea" role="tabpanel" aria-labelledby="vaultArea">
                    <div class="jumbotron jumbotron-adjust text-light bg-dark jumboshade tab-rounded">
                        <div class="row">
                          <div class="col">
                            <p class="lead nomarginb">Vault</p>
                          </div>
                          <div class="col-auto">
                            <p class="text-right nomarginb tutorial">
                                <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                            <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="Vault 77: Where you keep the puppets" data-content="{popover.vault}">
                            <i class="far fa-question-circle"></i>
                            </a>
                          </div>
                        </div>
                        <hr>
                        <div class="jumbotron jumbotron-adjust teamscore">
                        <!--  <div class="row">
                            <div class="col">
                              <p class="lead">Winning Pot (Unused)</p>
                            </div>
                            <div class="col">
                              <p class="h3 text-right">{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn && JUST.Cache.currentPlayer && JUST.Cache.currentPlayer.Vaults) ? BN(JUST.Cache.currentPlayer.Vaults[0]).div(1e18).toFixed(4) : BN(0).toFixed(4)} ETH</p>
                            </div>
                          </div> -->

                            <div class="row">
                            <div class="col">
                              <p class="lead">On Lockdown</p>
                            </div>
                            <div class="col">
                            <!--
                              <p class="h6 text-right" style="font-size: .9rem">{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn) ? ((BN(JUST.Cache.currentPlayer.Round[2]).div(1e18).toFixed(1) : BN(0).toFixed(4)).div(BN(JUST.Cache.currentRound[2]).div(1e18).toFixed(0))).mul((BN(JUST.Cache.currentRound[5]).div(1e18).toFixed(4).div(100)).mul(30))}</p>
                              -->
                              <p class="h3 text-right" label=poteth>{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn) ? (((BN(JUST.Cache.currentRound[5]).div(100).multipliedBy(30)).div(BN(JUST.Cache.currentRound[2]))).multipliedBy(BN(JUST.Cache.currentPlayer.Round[2])).div(1e18).toFixed(4)) : BN(0).toFixed(4)} ETH</p>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col">
                              <p class="lead">Exit Scammed</p>
                            </div>
                            <div class="col">
                              <p class="h3 text-right">{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn && JUST.Cache.currentPlayer && JUST.Cache.currentPlayer.Vaults) ? BN(JUST.Cache.currentPlayer.Vaults[1]).plus(JUST.Cache.currentPlayer.Vaults[0]).div(1e18).toFixed(4) : BN(0).toFixed(4)} ETH</p>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col">
                              <p class="lead">Bad Advice</p>
                            </div>
                            <div class="col">
                              <p class="h3 text-right">{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn && JUST.Cache.currentPlayer && JUST.Cache.currentPlayer.Vaults) ? BN(JUST.Cache.currentPlayer.Vaults[2]).div(1e18).toFixed(4) : BN(0).toFixed(4)} ETH</p>
                            </div>
                          </div>

                          <hr>
                          <div class="row">
                            <div class="col">
                              <p class="lead">Total Gains</p>
                            </div>
                            <div class="col">
                              <p class="h3 text-right glow">{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn && JUST.Cache.currentPlayer && JUST.Cache.currentPlayer.Vaults) ? BN(JUST.Cache.currentPlayer.Vaults[0]).plus(JUST.Cache.currentPlayer.Vaults[1]).plus(JUST.Cache.currentPlayer.Vaults[2]).div(1e18).toFixed(4) : BN(0).toFixed(4)} ETH</p>
                              <p class="text-right">&#8793; {BN(JUST.Cache.currentPlayer.Vaults[0]).plus(JUST.Cache.currentPlayer.Vaults[1]).plus(JUST.Cache.currentPlayer.Vaults[2]).div(1e18).multipliedBy(JUST.Cache.fiatRatios.USD).toFixed(5)} USDT</p>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col">
                                <p class="text-right nomarginb"><button href="" class="btn btn-outline-purp btn-block" id="withdrawEarnings"><i class="fas fa-hand-holding-heart"></i> Withdraw</button></p>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
                <!-- /vault -->

                <!-- vanity -->
                <div class="tab-pane fade" id="refArea" role="tabpanel" aria-labelledby="refArea">
                    <div class="jumbotron jumbotron-adjust text-light bg-dark jumboshade tab-rounded">
                        <div class="row">
                          <div class="col">
                            <p class="lead nomarginb">Advisory Board</p>
                          </div>
                          <div class="col-auto">
                            <p class="text-right nomarginb tutorial">
                                <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                            <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="Probably Bribery" data-content="{popover.referral}">
                            <i class="far fa-question-circle"></i>
                            </a>
                          </div>
                        </div>
                        <hr>
                        <div class="jumbotron jumbotron-adjust teamscore">
                            <div class="row" if={!$this.isCEO}>
                                <div class="col">
                                <p>Register a unique name, and unlock the referral system permanently.</p>
                                </div>
                            </div>
                            <div class="row" if={!$this.isCEO}>
                                <div class="col">
                                    <button href="" class="btn btn-purp btn-block buyceo"><i class="fas fa-check"></i> Register a name to use on the Leaderboard/Referrals</button>
                                </div>
                              </div>
                            <div class="row" if={$this.isCEO}>
                                <div class="col">
                                    <p class="font-weight-light">Advise others to invest in this exit scam and we'll reward you 10% of everything they lose. In Ethereum.</p>
                                </div>
                            </div>
                            <div class="row" if={$this.isCEO}>
                                <div class="col text-center">
                                    <p>
                                        <span>Wallet Referral</span><br>
                                        <span class="small" id="ceolink">{$this.myLink}</span><br>
                                        <button class="btn btn-outline-purp" id="copyCeoLink" data-clipboard-target="#ceolink"}>
                                        <i class="fas fa-paste"></i> Copy</button>
                                    </p>
                                    <p>
                                        <span>Anyonmous Referral</span><br>
                                        <span class="small" id="ceolinkid">{$this.myLinkid}</span><br>
                                        <button class="btn btn-outline-purp" id="copyCeoLink" data-clipboard-target="#ceolinkid"}>
                                        <i class="fas fa-paste"></i> Copy</button>

                                    </p>
                                    <p>
                                        <span>Vanity Referral</span><br>
                                        <span class="small" id="ceolinkvanity">{$this.myLinkName}</span><br>
                                        <button class="btn btn-outline-purp" id="copyCeoLink" data-clipboard-target="#ceolinkvanity"}>
                                        <i class="fas fa-paste"></i> Copy</button>
                                    </p>
                                </div>
                            </div>
                            <div class="row" if={$this.isCEO}>
                                <div class="col">
                                    <button href="" class="btn btn-outline-purp btn-block buyceo"><i class="fas fa-check"></i> Register a new name</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /vanity -->
                </div>
            </div>

            <!-- stat tabs -->
            <div class="col-sm">
                <!-- tabs -->
                <ul class="nav nav-tabs tabs-border-adjust" id="statTabs" role="tablist">
                  <li class="nav-item tab-item">
                    <a class="nav-link tab-link active" id="potTab" data-toggle="tab" href="#potArea" role="tab" aria-controls="potArea" aria-selected="true">Round</a>
                  </li>
                  <li class="nav-item tab-item">
                    <a class="nav-link tab-link" id="teamTab" data-toggle="tab" href="#teamArea" role="tab" aria-controls="teamArea" aria-selected="false">Teams</a>
                  </li>
                  <li class="nav-item tab-item">
                    <a class="nav-link tab-link" id="playerTab" data-toggle="tab" href="#playerArea" role="tab" aria-controls="playerArea" aria-selected="false">Recent Players</a>
                  </li>
                  <li class="nav-item tab-item">
                    <a class="nav-link tab-link" id="statsTab" data-toggle="tab" href="#statsArea" role="tab" aria-controls="statsArea" aria-selected="false">Stats</a>
                  </li>
                </ul>

                <!-- tabbable areas -->
                <div class="tab-content" id="statArea">
                    <!-- current pot -->
                    <div class="tab-pane fade show active" id="potArea" role="tabpanel" aria-labelledby="potArea">

                        <div class="jumbotron jumbotron-adjust text-light bg-dark jumboshade tab-rounded">
                            <div class="row">
                              <div class="col">
                                <p class="lead nomarginb">Round #{JUST.Cache.currentRound[1]}</p>
                              </div>
                              <div class="col-auto">
                                <p class="text-right nomarginb tutorial">
                                    <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                                <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="Important Box:" data-content="{popover.game}">
                                <i class="far fa-question-circle"></i>
                                </a>
                              </div>
                            </div>
                            <hr>
                            <div class="row nomarginb margin-top" if={!$this.roundHasPassed}>
                                <div class="col">
                                    <!-- NOTE: Time limit counter -->
                                    <p class="h2 text-center" if={this.playerIsLeader}>You are exit scamming in <br><span class="glow boxtimer"></span></p>
                                    <p class="h2 text-center" if={!this.playerIsLeader}>Contract will drain in <br><span class="glow boxtimer"></span></p>
                                </div>
                            </div>
                            <div class="row nomarginb margin-top" if={$this.roundHasPassed}>
                                <div class="col" style="position: relative;">
                                    <!-- NOTE: Time limit counter -->
                                    <p class="h6 text-center">That eth is just sitting there, what are <a class="titlepopoutrightmini">you</a> waiting for?</p>
                                      <a style="margin-bottom:40px;" href="javascript:void(0)" class="buyOneTicket btn btn-lg btn-block btn-purp pulse"> Buy one <i class="fas fa-key"></i> Put yourself back in the lead!</a>
                                </div>
                            </div>
                            <div class="row marginb" if={!$this.roundHasPassed}>
                                <div class="col">
                                    <div class="progress">
                                        <div class="progress-bar boxglow" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="jumbotron jumbotron-adjust teamscore">
                                <div class="row nomarginb">
                                    <div class="col-auto">
                                        <p class="h4" if={!$this.roundHasPassed}>Active Pot</p>
                                        <p class="h4" if={$this.roundHasPassed}>Unclaimed Funds</p>
                                    </div>
                                    <div class="col">
                                        <!-- NOTE: Display of current pot size as well as converted USDT value -->
                                        <p class="h2 text-right glow ethglitch" if={!$this.roundHasPassed}>{BN(JUST.Cache.currentRound[5]).div(1e18).toFormat(2)} <i class="fab fa-ethereum ethglow"></i></p>
                                        <p class="h2 text-right glow ethglitch" if={$this.roundHasPassed}>{BN(JUST.Cache.currentRound[5]).div(1e19).toFormat(5)} <i class="fab fa-ethereum ethglow"></i></p>
                                    </div>
                                </div>
                                <div class="row marginb">
                                    <div class="col text-right"  if={!$this.roundHasPassed}>&#8793; {BN(JUST.Cache.currentRound[5]).div(1e18).multipliedBy(JUST.Cache.fiatRatios.USD).toFormat(5)} USDT</div>
                                    <div class="col text-right"  if={$this.roundHasPassed}>&#8793; {BN(JUST.Cache.currentRound[5]).div(1e19).multipliedBy(JUST.Cache.fiatRatios.USD).toFormat(5)} USDT</div>
                                </div>
                                <div class="row nomarginb"  if={!$this.roundHasPassed}>
                                    <div class="col">
                                      <p class="h4">Your Keys</p>
                                    </div>
                                    <div class="col">
                                      <p class="h2 text-right">{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn) ? BN(JUST.Cache.currentPlayer.Round[2]).div(1e18).toFormat(1) : BN(0).toFormat(4)} <i class="fas fa-key"></i></p>
                                    </div>
                                </div>
                                  <div class="row marginb" if={!$this.roundHasPassed}>
                                    <div class="col text-right">Total {BN(JUST.Cache.currentRound[2]).div(1e18).toFormat(0)} Keys</div>
                                  </div>
                                  <div class="row nomarginb">
                                    <div class="col">
                                      <p class="h4">Your Earnings</p>
                                    </div>
                                    <div class="col">
                                      <p class="h2 text-right">{(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn) ? BN(JUST.Cache.currentPlayer.Vaults[0]).plus(JUST.Cache.currentPlayer.Vaults[1]).plus(JUST.Cache.currentPlayer.Vaults[2]).div(1e18).toFormat(4) : BN(0).toFormat(5)} <i class="fab fa-ethereum"></i></p>
                                    </div>
                                </div>
                                <div class="row marginb">
                                    <div class="col text-right">
                                        &#8793; {BN(JUST.Cache.currentPlayer.Vaults[0]).plus(JUST.Cache.currentPlayer.Vaults[1]).plus(JUST.Cache.currentPlayer.Vaults[2]).div(1e18).multipliedBy(JUST.Cache.fiatRatios.USD).toFormat(5)} USDT
                                    </div>
                                  </div>
                            </div>
                        </div>
                    </div>
                    <!-- /current pot -->

                    <!-- teams -->
                    <div class="tab-pane fade" id="teamArea" role="tabpanel" aria-labelledby="teamArea">
                        <div class="jumbotron jumbotron-adjust text-light bg-dark jumboshade tab-rounded">
                            <div class="row">
                                  <div class="col">
                                    <p class="lead nomarginb">Teams</p>
                                  </div>
                                  <div class="col-auto">
                                    <p class="text-right nomarginb tutorial">
                                    <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                                    <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="Pick a team, get angry at those not on your team." data-content="{popover.teams}">
                                        <i class="far fa-question-circle"></i>
                                    </a>
                                  </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div class="jumbotron jumbotron-adjust text-center teamscore">
                                        <p class="lead">Whales</p>
                                        <img src="./img/twhale.png" width="25%"</img>
                                        <hr>
                                        <p class="glow-yel">{BN(JUST.Cache.currentRound[9]).div(1e18).toFormat(4)} ETH</p>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="jumbotron jumbotron-adjust text-center    teamscore">
                                        <p class="lead">Bears</p>
                                        <img src="./img/tbear.png" width="25%"</img>
                                        <hr>
                                        <p class="glow-yel">{BN(JUST.Cache.currentRound[10]).div(1e18).toFormat(4)} ETH</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div class="jumbotron jumbotron-adjust text-center    teamscore">
                                        <p class="lead">Bulls</p>
                                        <img src="./img/tbull.png" width="25%"</img>
                                        <hr>
                                        <p class="glow-yel">{BN(JUST.Cache.currentRound[12]).div(1e18).toFormat(4)} ETH </p>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="jumbotron jumbotron-adjust text-center    teamscore">
                                        <p class="lead">Sneks</p>
                                        <img src="./img/tsnek.png" width="25%"</img>
                                        <hr>
                                        <p class="glow-yel">{BN(JUST.Cache.currentRound[11]).div(1e18).toFormat(4)} ETH </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /teams -->

                    <!-- recent players -->
                    <div class="tab-pane fade" id="playerArea" role="tabpanel" aria-labelledby="playerArea">
                        <div class="jumbotron jumbotron-adjust text-light bg-dark jumboshade tab-rounded">
                            <div class="row">
                              <div class="col">
                                <p class="lead nomarginb">Recent Players</p>
                              </div>
                              <div class="col-auto">
                                <p class="text-right nomarginb tutorial">
                                    <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                                <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="Like a list of envy:" data-content="{popover.leaderboard}">
                                <i class="far fa-question-circle"></i>
                                </a>
                              </div>
                            </div>
                            <div class="row" style="position: relative;">
                                <div class="faded" style="position: absolute; z-index: 9; text-align: center; width: 100%; height: 100%; background: #00000085; padding-top: 75px; font-size: 54px;">
                                    Coming soon
                                </div>
                                <div class="col">
                                    <div class="jumbotron jumbotron-adjust teamscore">
                                        <!-- NOTE: Displays last 3 ticket buyers along with their chosen team and total amount of ETH spent -->
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th scope="col" class="borderchange">Player</th>
                                                    <th scope="col" class="borderchange text-center">Team</th>
                                                    <th scope="col" class="borderchange tright">Amount</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <th scope="row" class="playername truncate">inverate inker</th>
                                                    <td class="text-center">Sneks</td>
                                                    <td class="tright">0.0248 ETH</td>
                                                </tr>
                                                <tr>
                                                    <th scope="row" class="playername truncate">antic moldmaker</th>
                                                    <td class="text-center">Whales</td>
                                                    <td class="tright">0.2480 ETH</td>
                                                </tr>
                                                <tr>
                                                    <th scope="row" class="playername truncate">harjd laser</th>
                                                    <td class="text-center">Bulls</td>
                                                    <td class="tright">0.0248 ETH</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /recent players -->



                    <!-- Stats page -->
                    <!-- Stats page -->

                    <div class="tab-pane fade" id="statsArea" role="tabpanel" aria-labelledby="statsArea">

                        <div class="jumbotron jumbotron-adjust text-light bg-dark jumboshade tab-rounded">
                            <div class="row">
                              <div class="col">
                                <p class="lead nomarginb">Stats for Round #{JUST.Cache.currentRound[1]} (Current)</p>
                              </div>
                              <div class="col-auto">
                                <p class="text-right nomarginb tutorial">
                                    <i class="fas fa-arrow-right pulsetutorial tutorialArrow"></i>
                                <a tabindex="0" type="button" class="qbtn" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="bottom" title="Important Box:" data-content="{popover.stats}">
                                <i class="far fa-question-circle"></i>
                                </a>
                              </div>
                            </div>
                            <hr>
                            <div class="jumbotron jumbotron-adjust teamscore">

                                <div class="row nomarginb">
                                    <div class="col-auto">
                                        <p class="h4" >Total Invested:</p>
                                    </div>
                                    <div class="col">
                                        <p class="h2 text-right glow ethglitch">{((BN(JUST.Cache.currentRound[9])).plus(BN(JUST.Cache.currentRound[10])).plus(BN(JUST.Cache.currentRound[11])).plus(BN(JUST.Cache.currentRound[12]))).div(1e18).toFormat(3)} <i class="fab fa-ethereum ethglow"></i></p>
                                    </div>
                                </div>
                                <div class="row marginb">
                                    <div class="col text-right">&#8793; {(((BN(JUST.Cache.currentRound[9])).plus(BN(JUST.Cache.currentRound[10])).plus(BN(JUST.Cache.currentRound[11])).plus(BN(JUST.Cache.currentRound[12])))).div(1e18).multipliedBy(JUST.Cache.fiatRatios.USD).toFormat(2)} USDT</div>
                                </div>

                                <div class="row nomarginb">
                                    <div class="col-auto">
                                        <p class="h4" >Distributed Rewards:</p>
                                    </div>
                                    <div class="col">
                                        <p class="h2 text-right glow ethglitch">{((BN(JUST.Cache.currentRound[9])).plus(BN(JUST.Cache.currentRound[10])).plus(BN(JUST.Cache.currentRound[11])).plus(BN(JUST.Cache.currentRound[12])).minus(BN(JUST.Cache.currentRound[5]))).div(1e18).toFormat(3)} <i class="fab fa-ethereum ethglow"></i></p>
                                    </div>
                                </div>
                                <div class="row marginb">
                                    <div class="col text-right">&#8793;{((BN(JUST.Cache.currentRound[9])).plus(BN(JUST.Cache.currentRound[10])).plus(BN(JUST.Cache.currentRound[11])).plus(BN(JUST.Cache.currentRound[12])).minus(BN(JUST.Cache.currentRound[5]))).multipliedBy(JUST.Cache.fiatRatios.USD).div(1e18).toFormat(2)} USDT </div>
                                </div>


                                <div class="row nomarginb">
                                    <div class="col-auto">
                                        <p class="h4" >Time Purchased</p>
                                    </div>
                                    <div class="col">
                                        <p class="h2 text-right glow ethglitch">{((BN(JUST.Cache.currentRound[2])).div(1e18).multipliedBy(30000)).div(31536000000).toFixed(2)} Years</p>
                                    </div>
                                </div>
                                <div class="row marginb">
                                    <div class="col text-right"> {((BN(JUST.Cache.currentRound[2])).div(1e18).multipliedBy(30)).toFormat(0)} Seconds</div>
                                </div>
                            </div>
                        </div>
                    </div>




                </div>
                <!-- /tabbable area -->
            </div>
            <!-- /stat tabs -->

        </div>
        </div>
    </div>
    <!-- modal popup -->
    <div class="modal fade" id="gameover" tabindex="-1" role="dialog" aria-labelledby="gameoverTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content bg-dark text-light">
                <div class="modal-header">
                    <h5 class="modal-title" id="gameoverTitle">Modal Title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    Modal Content
                </div>
            </div>
        </div>
    </div>
    <!-- /modal popup -->
    <!-- airdrop custom modal popup
    cleanup
    <div class="container" id="airdrop" style="z-index: 999;">
        <div class="row">
            <div class="col-6" style="position: fixed; bottom:0; left:25%;">
                <div class="jumbotron jumbotron-adjust jumboshade bg-dark text-light">
                    <div class="row">
                        <div class="col">
                            <div class="row">
                                <div class="col">
                                    <p class="lead">Airdrop: Your buying power has been multiplied!</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <p class="font-weight-light string">You've recieved at least a 2x multiplier on your last purchase! (PLACEHOLDER)</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-parachute-box airdropicon ethglow-its-okay-justo"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    /airdrop custom modal popup -->

    <!-- If something breaks delet this script justo made; -->
    <script>
    // Contain the popover within the body NOT the element it was called in.
        $('[data-toggle="popover"]').popover({
            container: 'body'
        });

        $this = this
        $this.refresher = _.debounce(async () => {
            JUST.Cache.currentRound = await JUST.Bridges.Browser.contracts.Fomo3D.read("getCurrentRoundInfo")
            clearInterval(window.globalTimerObject)
            $this.update()
        }, 500)

        async function assemble() {
            $this.roundHasPassed = Math.floor( JUST.date().getTime() / 1000) > JUST.Cache.currentRound[3]
            $this.playerIsLeader = JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn && Math.floor(parseInt(JUST.Cache.currentRound[6]/10)) == parseInt(JUST.Cache.currentPlayer.PID)
            $this.playerHasWon = $this.roundHasPassed && $this.playerIsLeader
            $this.isCEO = JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn && JUST.Cache.currentPlayer && JUST.Cache.currentPlayer.Round && JUST.Cache.currentPlayer.Round[1] !== "0x0000000000000000000000000000000000000000000000000000000000000000"
            $this.myLink = $this.isCEO ? `${window.location.origin}/${JUST.Bridges.Metamask.web3.eth.defaultAccount}` : `#`
            $this.gracePeriod = false
            // $this.gracePeriod = true
            $this.myLinkid = $this.isCEO ? `${window.location.origin}/${JUST.Cache.currentPlayer.PID.toFixed()}` : `#`
            $this.myLinkName = $this.isCEO ? `${window.location.origin}/${JUST.Bridges.Browser.web3.utils.toAscii(JUST.Cache.currentPlayer.Round[1])}` : `#`
            $this.myLinkName = $this.myLinkName.replace(/ /g,'%20')
        }

        async function rewire() {

            if($this.isCEO) jQuery(".afflink span").text($this.myLinkName)

             // open vanity from ceo box
            jQuery(".buyceo").click(async e => {
                let correctNetwork  = await JUST.checkNetwork()
                if(!correctNetwork) return alertify.alert("You are not in the correct network. Please navigate to <a style='color: #1e10f8;text-decoration: underline;' href='https://testnet.teamjust.io'>the testnet portal</a> and follow the instructions.")
                jQuery('#vanity').modal()
            })

            /* Check for graphics quality switch settings
            let sd_mode = localStorage.getItem('fancy')
            if(sd_mode && sd_mode == "true"){
                jQuery("#fancyswitch").prop("checked", false);
                jQuery('#hdgraphics').toggle();
            } else{
                jQuery("#fancyswitch").prop("checked", true);
            }*/

            // Check for tutorial switch settings
            if(tutorial_mode != "true"){
                jQuery('.tutorial').css({"display": "none"});
                jQuery("#tutorialswitch").prop("checked", false);
            }

             // Teamselect localstorage thingy
            let saved_team = localStorage.getItem("team")
              if(saved_team){
                  if(saved_team == "0"){
                    jQuery("#teamsnek").prop("checked", true);
                }
                if(saved_team == "1"){
                    jQuery("#teamwhale").prop("checked", true);
                }
                if(saved_team == "2"){
                    jQuery("#teambull").prop("checked", true);
                }
                if(saved_team == "3"){
                    jQuery("#teambear").prop("checked", true);
                }
              } else {
                  jQuery("#teamsnek").prop("checked", true);
              }

            if(!$this.roundHasPassed) {
                /* WIP
                // add airdrop text to html
                let priceQuotation = await JUST.Bridges.Browser.contracts.Fomo3D.read('iWantXKeys', count)
                let purchase_amount = BN(priceQuotation).plus(100).div(1e18).toFixed(2)
                switch(purchase_amount){
                    case >10:
                        $('#airdrop_chance').text({JUST.Cache.airdropTracker} + "% chance to receive a 4x Key Airdrop with your next purchase with at least 10 ETH!");
                        break;
                    case >1:
                        $('#airdrop_chance').text({JUST.Cache.airdropTracker} + "% chance to receive a 3x Key Airdrop with your next purchase with at least 1 ETH!");
                        break;
                    default:
                        $('#airdrop_chance').text({JUST.Cache.airdropTracker} + "% chance to receive a 2x Key Airdrop with your next purchase with at least .1 ETH!");
                }
                */
                jQuery("#quotes").addClass("active")
                if(JUST.Bridges.Metamask && JUST.Bridges.Metamask.signedIn){
                    jQuery(".keycount").text(BN(JUST.Cache.currentPlayer.Round[2]).div(1e18).toFixed(4))
                } else {
                    jQuery(".keycount").text("0")

                }
                if($this.timer) $this.timer.Destroy()
                $this.timer = new Countdown(JUST.Cache.currentRound[3], async (data, expired) => {
                    now = (JUST.date().getTime() / 1000)

                    // console.log({
                    //     currentTime: new Date(now * 1000),
                    //     roundEnd: new Date(parseInt(JUST.Cache.currentRound[3]) * 1000),
                    //     roundOver:  now < parseInt(JUST.Cache.currentRound[3]),
                    //     roundID: JUST.Cache.currentRound[1],
                    //     pot: JUST.Cache.currentRound[5]

                    // })

                    if(Math.floor( JUST.date().getTime() / 1000) > (parseInt(JUST.Cache.currentRound[3]) - 90) && $this.gracePeriod) {

                        $this.gracePeriod = false

                        // pepe
                        function pepe(){
                        $(".animation").animate({bottom: "-30px"}, "slow");
                            $(".animation").animate({left: "100%"}, "slow", function () {
                              $(this).removeAttr('style');
                            });
                        }
                        pepe()

                        // clear timer from stack
                        clearInterval(window.globalTimerObject)

                        $this.refresher()
                    }

                    if(!expired){
                        if($this.gracePeriod){
                            let actualTime = parseDifference(new Date(parseInt(JUST.Cache.currentRound[3]) - 90), JUST.date())
                            jQuery(".headtimer").text(`${(actualTime.hours == "00" ? "" : actualTime.hours + ":") }${actualTime.minutes}:${actualTime.seconds}`)
                        } else {
                            jQuery(".headtimer").text(`${(data.hours == "00" ? "" : data.hours + ":") }${data.minutes}:${data.seconds}`)

                        }

                        jQuery(".boxtimer").text(`${(data.hours == "00" ? "" : data.hours + ":") }${data.minutes}:${data.seconds}`)

                        var timeTotal = parseInt(parseInt(JUST.Cache.currentRound[4]) - parseInt(JUST.Cache.currentRound[4])) + 3600
                        var timeRemaining = parseInt(JUST.Cache.currentRound[3]) - now
                        var timePercentage = 100 - timeRemaining / (timeTotal / 100)

                        //console.log(timeTotal, timeRemaining, Math.floor(timePercentage))

                        jQuery(".progress-bar.boxglow").css('width', `${Math.floor(timePercentage)}%`)

                    } else {
                        jQuery("#quotes").removeClass("active")
                        // refresh dom
                        $this.refresher()
                    }
                })
            }
            if($this.gracePeriod && !this.graceTimer) {

                console.log("execute", parseInt(JUST.Cache.currentRound[3]) + 300)
                new Countdown(parseInt(JUST.Cache.currentRound[3]) + 300, async (data, expired) => {
                    $this.graceTimer = true
                    now = (JUST.date().getTime() / 1000)


                    if(now < (parseInt(JUST.Cache.currentRound[3]) + 300) ){
                        jQuery(".graceTimer").text(`${(data.hours == "00" ? "" : data.hours + ":") }${data.minutes}:${data.seconds}`)
                    } else {
                        $this.gracePeriod = false
                        // clear timer from stack
                        $this.graceTimer = false
                        // refresh dom
                        $this.refresher()
                    }
                })
            }

            await jQuery( ".buyOneTicket" ).unbind()
            await jQuery( "#tixBuy" ).unbind()
            await jQuery( "#tixReinvest" ).unbind()
            await jQuery( "#withdrawEarnings" ).unbind()
            await jQuery( "#ethSpend" ).unbind()
            await jQuery( "#ethReinvest" ).unbind()

            jQuery(".buyOneTicket").click(async e  => {
                if(!JUST.Bridges.Metamask || !JUST.Bridges.Metamask.signedIn) return alertify.alert("You are not signed into metamask.")
                let correctNetwork  = await JUST.checkNetwork()
                if(!correctNetwork) return alertify.alert("You are not in the correct network. Please navigate to <a style='color: #1e10f8;text-decoration: underline;' href='https://testnet.teamjust.io'>the testnet portal</a> and follow the instructions.")
                var masternode = window.localStorage.getItem("masternode") ? window.localStorage.getItem("masternode") : "0x0"

                try {
                    let priceQuotation = await JUST.Bridges.Browser.contracts.Fomo3D.read('iWantXKeys', [BN(1050000000000000000)])
                    jQuery('#loading').modal({backdrop: 'static', keyboard: false})
                    let team = $("input[name='teamselect']:checked").val()
                    if(!team) team = 0
                    let receipt = await JUST.Bridges.Metamask.contracts.Fomo3D.purchaseKeys(priceQuotation, team)
                    //let receipt = await JUST.Bridges.Metamask.contracts.Fomo3D.write("buy", [masternode, 1], {value: priceQuotation})
                    jQuery('#loading').modal('hide')
                    alertify.log(`Your key purchasing request has been submitted to the blockchain!`)
                    console.log(receipt)
                } catch (e) {
                    console.log(e)
                    alertify.log(`Buy order has been cancelled.`)
                    jQuery('#loading').modal('hide')
                }

            })

            /**
             * Whenever the input of tixToBuy changes..
             */
            jQuery("#tixToBuy").bind('input', getQuote)

            /**
             * When the purchase button is clicked.
             */
            jQuery("#tixBuy").click( async e => {
                if(!JUST.Bridges.Metamask || !JUST.Bridges.Metamask.signedIn) return alertify.alert("You are not signed into metamask.")
                let correctNetwork  = await JUST.checkNetwork()
                if(!correctNetwork) return alertify.alert("You are not in the correct network. Please navigate to <a style='color: #1e10f8;text-decoration: underline;' href='https://testnet.teamjust.io'>the testnet portal</a> and follow the instructions.")
                let count = String(jQuery("#tixToBuy").val()).replace("keys", "").replace("key", "").replace("Keys", "").replace("Key", "")
                if(!Number.isInteger(parseInt(count))) return
                var masternode = window.localStorage.getItem("masternode") ? window.localStorage.getItem("masternode") : "0x0"
                count = BN((parseInt(count)) * 1e18)

                try {
                    let priceQuotation = await JUST.Bridges.Browser.contracts.Fomo3D.read('iWantXKeys', count)
                    jQuery('#loading').modal({backdrop: 'static', keyboard: false})
                    let team = $("input[name='teamselect']:checked").val()
                    if(!team) team = 0
                    let receipt = await JUST.Bridges.Metamask.contracts.Fomo3D.purchaseKeys(BN(priceQuotation).plus(100).toString(), team)
                    alertify.log(`Your ticket purchasing request has been submitted to the blockchain!`)
                    jQuery('#loading').modal('hide')

                    console.log(receipt)
                } catch (e) {
                    alertify.log(`Buy order has been cancelled.`)
                    jQuery('#loading').modal('hide')

                }

            })

            /**
             * When the reinvest button is clicked.
             */
            jQuery("#tixReinvest").click( async e => {
                if(!JUST.Bridges.Metamask || !JUST.Bridges.Metamask.signedIn) return alertify.alert("You are not signed into metamask.")
                let correctNetwork  = await JUST.checkNetwork()
                if(!correctNetwork) return alertify.alert("You are not in the correct network. Please navigate to <a style='color: #1e10f8;text-decoration: underline;' href='https://testnet.teamjust.io'>the testnet portal</a> and follow the instructions.")
                let vaultEarnings = BN(JUST.Cache.currentPlayer.Vaults[0]).plus(JUST.Cache.currentPlayer.Vaults[1]).plus(JUST.Cache.currentPlayer.Vaults[2])
                let count = String(jQuery("#tixToBuy").val()).replace("keys", "").replace("key", "").replace("Keys", "").replace("Key", "")
                var masternode = window.localStorage.getItem("masternode") ? window.localStorage.getItem("masternode") : "0x0"
                if(!Number.isInteger(parseInt(count))) return
                count = BN((parseInt(count) ) * 1e18)

                try {
                    let priceQuotation = await JUST.Bridges.Browser.contracts.Fomo3D.read('iWantXKeys', [BN(count)])
                    if(vaultEarnings.isLessThan(BN(priceQuotation))) return alertify.alert(`You don't have ${BN(priceQuotation).div(1e18).toFixed(4)} ETH in your vault to pay for ${count.div(1e18).toFixed(4)} keys. You only have ${vaultEarnings.div(1e18).toFixed(4)} ETH in your vault.`)
                    jQuery('#loading').modal({backdrop: 'static', keyboard: false})
                    let team = $("input[name='teamselect']:checked").val()
                    if(!team) team = 0
                    let receipt = await JUST.Bridges.Metamask.contracts.Fomo3D.purchaseKeys(BN(priceQuotation).plus(100).toString(), team, true)
                    alertify.log(`Your ticket purchasing request has been submitted to the blockchain!`)
                    jQuery('#loading').modal('hide')

                    console.log(receipt)
                } catch (e) {
                    console.error(e)
                    alertify.log(`Buy order has been cancelled.`)
                    jQuery('#loading').modal('hide')

                }
            })

            /**
             * When the ICO invest button is pressed
             */
            jQuery("#ethSpend").click( async e => {
                if(!JUST.Bridges.Metamask || !JUST.Bridges.Metamask.signedIn) return alertify.alert("You are not signed into metamask.")
                let correctNetwork  = await JUST.checkNetwork()
                if(!correctNetwork) return alertify.alert("You are not in the correct network. Please navigate to <a style='color: #1e10f8;text-decoration: underline;' href='https://testnet.teamjust.io'>the testnet portal</a> and follow the instructions.")
                let count = String(jQuery("#ethToSpend").val()).replace("ethereum", "").replace("Ethereum", "").replace("eth", "").replace("ETH", "")
                if(!Number.isInteger(parseInt(count))) return
                count = BN(count).multipliedBy(1e18)

                try {
                    let team = $("input[name='teamselect']:checked").val()
                    if(!team) team = 1
                    jQuery('#loading').modal({backdrop: 'static', keyboard: false})
                    let receipt = await JUST.Bridges.Metamask.contracts.Fomo3D.purchaseKeys(count.toString(), team)
                    alertify.log(`Your ICO funding request has been submitted to the blockchain!`)
                    jQuery('#loading').modal('hide')
                    console.log(receipt)
                } catch (e) {
                    alertify.log(`Funding request been cancelled.`)
                    jQuery('#loading').modal('hide')

                }
            })

            /**
             * When the ICO invest button is pressed
             */
            jQuery("#ethReinvest").click( async e => {
                if(!JUST.Bridges.Metamask || !JUST.Bridges.Metamask.signedIn) return alertify.alert("You are not signed into metamask.")
                let correctNetwork  = await JUST.checkNetwork()
                if(!correctNetwork) return alertify.alert("You are not in the correct network. Please navigate to <a style='color: #1e10f8;text-decoration: underline;' href='https://testnet.teamjust.io'>the testnet portal</a> and follow the instructions.")
                let count = String(jQuery("#ethToSpend").val()).replace("ethereum", "").replace("Ethereum", "").replace("eth", "").replace("ETH", "")
                if(!Number.isInteger(parseInt(count))) return
                count = BN(count).multipliedBy(1e18)

                try {
                    let team = $("input[name='teamselect']:checked").val()
                    if(!team) team = 1
                    let receipt = await JUST.Bridges.Metamask.contracts.Fomo3D.purchaseKeys(count.toString(), team, true)
                    alertify.log(`Your ICO funding request has been submitted to the blockchain!`)
                    jQuery('#loading').modal('hide')
                    console.log(receipt)
                } catch (e) {
                    alertify.log(`Funding request been cancelled.`)
                    jQuery('#loading').modal('hide')

                }
            })

            jQuery("#withdrawEarnings").click(async e => {
                let correctNetwork  = await JUST.checkNetwork()
                if(!correctNetwork) return alertify.alert("You are not in the correct network. Please navigate to <a style='color: #1e10f8;text-decoration: underline;' href='https://testnet.teamjust.io'>the testnet portal</a> and follow the instructions.")
                if(!JUST.Bridges.Metamask || !JUST.Bridges.Metamask.signedIn) return alertify.alert("You are not signed into metamask.")
                jQuery('#loading').modal({backdrop: 'static', keyboard: false})
                try {
                    let receipt = await JUST.Bridges.Metamask.contracts.Fomo3D.write("withdraw")
                    jQuery('#loading').modal('hide')
                    alertify.log(`Your withdrawal request has been submitted to the blockchain!`)
                    console.log(receipt)

                } catch(e) {
                    alertify.log(`Withdrawal has been cancelled.`)
                    jQuery('#loading').modal('hide')
                }


            })


            getQuote()
        }

        async function getQuote(){
            let count = String(jQuery("#tixToBuy").val()).replace("key", "").replace("keys", "").replace("Key", "").replace("Keys", "")
            if(!Number.isInteger(parseInt(count))) return
            count = BN(parseInt(count) * 1e18)

            let priceQuotation = await JUST.Bridges.Browser.contracts.Fomo3D.read('iWantXKeys', count)

            jQuery("#tixQuotation").text(`@ ${BN(priceQuotation).plus(100).div(1e18).toFixed(8)} ETH`)

            console.log(priceQuotation)
        }


        $this.on('update', assemble)
        $this.on('updated', rewire)
        $this.on('before-mount', assemble)
        this.on('unmount', fn => {
            if(window.globalTimerObject && typeof window.globalTimerObject !== "undefined") clearInterval(window.globalTimerObject)
        })


        JUST.UI.on('ui.refresh', () => {
            console.log('refreshing ui')
            $this.refresher()
        } )


        $this.on('mount', function(){

            // wire listeners
            rewire()

            new ClipboardJS('.btn');

          // Teamselection to var
          jQuery('.ticketProcess').click(function(){
            var team = $("input[name='teamselect']:checked").val()
            //console.log(team)
          });

          // Increase ticket amount to buy with buttons
          jQuery('.increment').click(function(){
            let id = this.id

            if(id == 'addOne'){
              var increment = 1
            }
            if(id == 'addTwo'){
              var increment = 2
            }
            if(id == 'addFive'){
              var increment = 5
            }
            if(id == 'addTen'){
              var increment = 10
            }

            if(id == 'addHundred'){
              var increment = 100
            }
            if(jQuery('#tixToBuy').val()){
                ///replace("key", "").replace("keys", "").replace("Key", "").replace("Keys", "")
                var iVal = parseInt(String(jQuery("#tixToBuy").val()).replace("keys", "").replace("key", "").replace("Keys", "").replace("Key", ""))
            }
            else{
                var iVal = 1
            }

            let nVal = iVal + increment

            jQuery("#tixToBuy").val(nVal.toString())

            getQuote()

          });

          // Quote script
          //jQuery(".qTarget").text(memes.global.quoteRoulette[Math.floor(Math.random()*memes.global.quoteRoulette.length)]);

          // Enable popovers
          jQuery(".qbtn").click(function(){
            jQuery('[data-toggle="popover"').popover()
          })





            // save team
            jQuery('.teamselector input').click(function(){
                let thisteam = $(this).attr('id')
                if(thisteam == "teamsnek"){
                    localStorage.setItem('team', '0');
                }
                if(thisteam == "teamwhale"){
                    localStorage.setItem('team', '1');
                }
                if(thisteam == "teambull"){
                    localStorage.setItem('team', '2');
                }
                if(thisteam == "teambear"){
                    localStorage.setItem('team', '3');
                }
            })

            // airdrop modal animation

            airdrop_animate = function(){
                $("#airdrop row col-6").animate({bottom: "-30px"}, "fast", function(){
                    $(this).removeAttr('style');
                });
            }

        // bash
        $("#terminal").click(function(){
            $(".commandInput").focus();
        })
        $("#commandLine li input").val('');
        $("#commandLine").on("keypress", ".commandInput", function(e){
            if(e.which == 13){
                var command = $("input.active").val().toLowerCase();
                if(/^[a-zA-Z0-9- ?.=/]*$/.test(command) == false){
                    command = "syntax_error"
                }
                $("#commandLine li input").each(function(){
                    $(this).removeClass("active");
                    $(this).attr("disabled", true);
                });
                switch(command){
                    // include more cases for custom commands here
                    case "":
                        break;
                    case "help":
                    case "?":
                        $("#commandLine").append('<li class="prompt"><span class="ps1 noselect good">&rarr; List of available commands</span>');
                        $("#commandLine").append('<li class="prompt"><span class="ps1 noselect good">help, ?: display this message</span>');
                        $("#commandLine").append('<li class="prompt"><span class="ps1 noselect good">clear, cls: clear lines</span>');
                        $("#commandLine").append('<li class="prompt"><span class="ps1 noselect good">uname: show kernel information</span>');
                        $("#commandLine").append('<li class="prompt"><span class="ps1 noselect good">exit: quit this application</span>');
                        break;

                    case "syntax_error":
                        $("#commandLine").append('<li class="prompt"><span class="ps1 noselect error">&rarr; syntax error</span>');
                        break;

                    case "uname":
                    case "uname -a":
                        $("#commandLine").append('<li class="prompt"><span class="ps1 noselect good">&rarr; FomoOS jekyllisland 2.3.2-180708 #232-TeamJUST x86_256 GAHNOO/Fomo</span>');
                        break;
                    case "uptime":
                        $("#commandLine").append('<li class="prompt"><span class="ps1 noselect good">&rarr; TIME up DIFFERENCE TO LAUNCH, USERS users, load average: 0,89, 0,92, 0,90</span>');
                        break;
                    case "clear":
                    case "cls":
                        $(".prompt").each(function(){
                            $(this).remove();
                        });
                        break;

                    case "exit":
                    case "quit":
                        $("#commandLine li input").val('');
                        $(".prompt").each(function(){
                            $(this).remove();
                        });
                        $("#terminal").css({
                            visibility: "hidden",
                        })
                        break;

                    default:  // defaults to not found
                        $("#commandLine").append('<li class="prompt"><span class="ps1 noselect error">&rarr; "' + command + '" command not found</span>');
                }
                $("#commandLine").append('<li class="prompt"><span class="ps1 noselect">player@jekyllisland ~ $ <input type="text" class="commandInput active"></li>');
                $(".commandInput.active").focus();
                return false;
            }
        });

      })
    </script>

</state-play>

<state-airdrop>
    <!-- airdrop custom modal popup -->
    <div class="container" id="airdrop" style="z-index: 999; display:none;">
        <div class="row">
            <div class="col-6" style="position: fixed; bottom:0; left:25%;">
                <div class="jumbotron jumbotron-adjust jumboshade bg-dark text-light">
                    <div class="row">
                        <div class="col">
                            <div class="row">
                                <div class="col">
                                    <p class="lead">Airdrop: You just hit the jackpot baby,</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <p class="font-weight-light string">You've drained at least 25% of the airdrop POT. (PLACEHOLDER)</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-parachute-box airdropicon ethglow-its-okay-justo"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /airdrop custom modal popup -->
    <script>
        $this = this
        $this.on('mount', e => {
            console.log('mounted')
        })
    </script>
</state-airdrop>